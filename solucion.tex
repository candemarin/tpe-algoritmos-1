\documentclass[a4paper]{article}

\setlength{\parskip}{2mm}
\newcommand{\tab}{~ \qquad}
\input{Algo1Macros}
\usepackage{caratula} % Version modificada para usar las macros de algo1 de ~> https://github.com/bcardiff/dc-tex

\begin{document}

\titulo{TP de Especificación}
\subtitulo{BUSCAMINAS}
\fecha{30 de Marzo de 2022}
\materia{Algoritmos y Estructuras de Datos I}
\grupo{Grupo 11}

% Tipos de ejemplo
\newcommand{\dato}{\textit{Dato}}
\newcommand{\individuo}{\textit{Individuo}}

% Tipos de este tp
\newcommand{\pos}{\textit{pos}}
\newcommand{\tablero}{\textit{tablero}}
\newcommand{\jugadas}{\textit{jugadas}}
\newcommand{\banderitas}{\textit{banderitas}}

% Pongan cuantos integrantes quieran
\integrante{Marin, Candela Emilia}{1405/21}{canmarin17@gmail.com}
\integrante{Borja, Kurt}{695/19}{kuurtb@gmail.com}
\integrante{Capunta, Elsa}{003/17}{ecapunta@dc.uba.ar}
\integrante{Sánchez, Warren}{004/15}{tienelasrespuestas@les.luthier.com}

\maketitle


\section{Definición de Tipos}
\begin{description}
	\item type \pos = $\mathbb{Z} \times \mathbb{Z}$
	\item type \tablero = $\TLista{\TLista{\bool}}$
	\item type \jugadas = $\TLista{\pos \times \mathbb{Z}}$
	\item type \banderitas = $\TLista{\pos}$
\end{description}

\section{Constantes}
\pred{posValida}{t: \tablero, p: \pos}{
	0 \leq p[0] < |t| \yLuego 0 \leq p[1] \leq |t[1]|
}


\section{Problemas}
\subsection{Ejercicio 1}

\aux{minasAdyacentes}{t: \tablero, p: \pos}{$\mathbb{Z}$}{\sum_{i=0}^{|t|-1} \sum_{j=0}^{|t[i]|-1} \IfThenElse{\text{sonAdyacentes}(t, p, (i,j)) \land t[i][j]}{1}{0}}

\pred{sonAdyacentes}{t: \tablero, p: \pos, q: \pos}{
	\text{/* si p = q el predicado es true */} \\ \\
	\text{posValida(t, p)} \land \\ 
	\text{posValida(t, q)} \land \\ 
	((p[0] - q[0])^2 \leq 1 \land (p[1] - q[1])^2 \leq 1 )
}

\subsection{Ejercicio 2}

\pred{juegoValido}{t: \tablero, j: \jugadas}{
(\forall i : \mathbb{Z}) (0 \leq i < |j| \implicaLuego \text{posValida}(j[i]_0) \y \text{\#apariciones(j, j[i]) = 1}) \y \\ \text{minasAdyacentes}(t, j[i]_0) = j[i]_1 
}

\subsection{Ejercicio 3}

\begin{proc}{PlantarBanderita}{\In n : {$\mathbb{Z}$}, \In J : \jugadas, \In P : \pos, \Inout b : \banderitas }{}
    \pre{JugadaValida(n,J) \y NValido(n) \y PosicionValida(n,P) \y b = b_{0}}
    \post{banderitaValida(P,b,J)}
    \\ 
 
    \pred{JugadaValida}{\In n : {$\mathbb{Z}$}, \In J : \jugadas} {(\forall i : \mathbb{Z}) (0 \leq i < |J| \implicaLuego ( (0 \leq J[i]_{0} , J[i]_{1} \leq n) \y ( 0 \leq J[i]_{0},J[i]_{1} ) } 
    
    %intento pedir que los dos primeros (son la posicion) de cada tripla de j sean menores que n, para decir que estan en el tablero
    %
    
    \pred{NValido}{\In n : {$\mathbb{Z}$}} {(1 < n)}
    
    
    \pred{PosicionValida}{\In n : {$\mathbb{Z}$}, \In P : \pos} {( 0 \leq J[i]_{0} , J[i]_{1} \leq n ) \y ( 0 \leq J[i]_{0} , J[i]_{1} ) }
    
    % lo mismo , que me de menor que n para decir que estan en rango del tablero
    %
    
    \pred{BanderitaValida}{\In P : \pos, \Inout b : \banderitas, \In J : \jugadas} { (Apariciones (b_{0},P)==1) \y (\forall i : \mathbb{Z}) (0 \leq i < |J| \implicaLuego ( (P_{0} != J[i]_{0}) \lor (P_{1} != J[i]_{1}) \implica (b = addfirst(b_{0};P)))}
    
    %aparicioneses para que no hayan repetidos en la lista, y luego pido que tampoco este p en jugadas para agregar p a bsub 0
    %
    
\end{proc}

\subsection{Ejercicio 4}
\begin{proc}{perdió}{\In t: \tablero, \In j: \jugadas, \Out res: \bool}{}

\pre{\text{juegoValido}(t,j)}
\post{res = true \longleftrightarrow (\exists i : \ent)((0 \leq i \leq |j|) \yLuego (l = j[i][0][0] \land k = j[i][0][1] \implica t[l][k] = true ))}
	
\end{proc}

\subsection{Ejercicio 5}
\begin{proc}{ganó}{\In t: \tablero, \In j: \jugadas, \Out res: \bool}{}
\pre{\text{juegoValido}(t,j)}
\post{(res = true \longleftrightarrow ((\forall a: \ent)(0 \leq a < |j| \implica l = j[a][0][0] \y k = [a][0][1]) \implicaLuego t[l][k] = false)}
\end{proc}



\subsection{Ejercicio 5'}
\begin{proc}{ganó}{\In t: \tablero, \In j: \jugadas, \Out res: \bool}{}
\pre{\text{juegoValido}(t,j)}
\post{(res = true \longleftrightarrow ((\forall a: \ent)((0 \leq a < |j|\land|j|=PosicionesLibres(t) )\implicaLuego {perdio}(\In t: \tablero, \In a: \jugadas, \Out res: \bool)= false)}


\aux{posicionesLibres}{t: \tablero}{$\mathbb{Z}$}{\sum_{i=0}^{|t|-1}  \sum_{j=0}^{|t[i]|-1} \IfThenElse{t[i][j] = false } {1} {0}}

\end{proc}

\subsection{Ejercicio 5''}
\begin{proc}{ganó}{\In t: \tablero, \In j: \jugadas, \Out res: \bool}{}
	\pre{\text{juegoValido}
	(t,j)}
	
	\post{res = true \longleftrightarrow (\forall i : \ent)(0 \leq i < |j| \implicaLuego t[j[i]_{0_0}][j[i]_{0_1}] = false) \y |j| = \text{posLibres}(t)}
	
	\aux{posLibres}{t: \tablero}{$\mathbb{Z}$}{\sum_{i=0}^{|t|-1}  \sum_{j=0}^{|t[i]|-1} \IfThenElse{t[i][j] = false } {1} {0}}
\end{proc}



% REFERENCIAS - NO BORRAR HASTA TERMINAR EL TP

\section{Ejemplos}
\subsection{Ejercicio 1}

\begin{proc}{unProblema}{\In t: \dato, \Inout result: $\bool$}{}
    \pre{\True}
    \post{result = \True \leftrightarrow predicadoPrincipal(t)}
    
    \pred{predicadoPrincipal}{d:\dato}{
    	pred1(d) \y pred2(d)
    }
    
    \pred{pred1}{d:\dato} {...}
    \pred{pred2}{d:\dato} {...}
\end{proc}




\subsection{Ejercicio 2}
\begin{proc}{otroProblema}{\In i: \individuo, \Inout result: $\bool$}{}
	\pre{|i| > MIN()}
	\post{result = \True \leftrightarrow predicadoPrincipal2(i)}
	
	\pred{predicadoPrincipal2}{i:\individuo}{ 
		pred1(i) \y \neg pred3(i)
	}
	
	\pred{pred3}{i:\individuo} {...}
\end{proc}



\end{document}
